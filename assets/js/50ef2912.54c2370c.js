"use strict";(self.webpackChunktech_note=self.webpackChunktech_note||[]).push([[1935],{3905:function(n,e,t){t.d(e,{Zo:function(){return u},kt:function(){return d}});var a=t(7294);function l(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){l(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function c(n,e){if(null==n)return{};var t,a,l=function(n,e){if(null==n)return{};var t,a,l={},o=Object.keys(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||(l[t]=n[t]);return l}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(l[t]=n[t])}return l}var r=a.createContext({}),p=function(n){var e=a.useContext(r),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},u=function(n){var e=p(n.components);return a.createElement(r.Provider,{value:e},n.children)},s={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},k=a.forwardRef((function(n,e){var t=n.components,l=n.mdxType,o=n.originalType,r=n.parentName,u=c(n,["components","mdxType","originalType","parentName"]),k=p(t),d=l,m=k["".concat(r,".").concat(d)]||k[d]||s[d]||o;return t?a.createElement(m,i(i({ref:e},u),{},{components:t})):a.createElement(m,i({ref:e},u))}));function d(n,e){var t=arguments,l=e&&e.mdxType;if("string"==typeof n||l){var o=t.length,i=new Array(o);i[0]=k;var c={};for(var r in e)hasOwnProperty.call(e,r)&&(c[r]=e[r]);c.originalType=n,c.mdxType="string"==typeof n?n:l,i[1]=c;for(var p=2;p<o;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}k.displayName="MDXCreateElement"},9306:function(n,e,t){t.r(e),t.d(e,{frontMatter:function(){return c},contentTitle:function(){return r},metadata:function(){return p},toc:function(){return u},default:function(){return k}});var a=t(7462),l=t(3366),o=(t(7294),t(3905)),i=["components"],c={},r="this",p={unversionedId:"JavaScript/this",id:"JavaScript/this",title:"this",description:"\u5728\u5176\u4ed6\u4ee5\u985e\u5225\u70ba\u57fa\u790e\u7684\u7a0b\u5f0f\u8a9e\u8a00\u4e2d\uff0cthis\u6307\u7684\u662f\u76ee\u524d\u4f7f\u7528\u985e\u5225\u9032\u884c\u5be6\u9ad4\u5316\u7684\u7269\u4ef6\u3002\u800cJavaScript\u8a9e\u8a00\u4e2d\u56e0\u70ba\u5728\u8a2d\u8a08\u4e0a\u4e26\u4e0d\u662f\u4ee5\u985e\u5225\u70ba\u57fa\u790e\u7684\u7269\u4ef6\u5c0e\u5411\uff0c\u8a2d\u8a08\u4e0a\u4e0d\u4e00\u6a23\uff0c\u6240\u4ee5this\u7684\u6307\u5411\u7684\u662f\u76ee\u524d\u547c\u53eb\u51fd\u5f0f\u6216\u65b9\u6cd5\u7684\u64c1\u6709\u8005(owner)\u7269\u4ef6\uff0c\u4e5f\u5c31\u662f\u8aaa\u5b83\u8207\u51fd\u5f0f\u5982\u4f55\u88ab\u547c\u53eb\u6216\u8abf\u7528\u6709\u95dc\uff0c\u96d6\u7136\u662f\u540c\u4e00\u51fd\u5f0f\u7684\u547c\u53eb\uff0c\u56e0\u70ba\u4e0d\u540c\u7684\u7269\u4ef6\u547c\u53eb\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u4e0d\u540c\u7684this\u503c\u3002",source:"@site/docs/JavaScript/this.md",sourceDirName:"JavaScript",slug:"/JavaScript/this",permalink:"/tech-note/docs/JavaScript/this",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/JavaScript/this.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Regular \u6b63\u898f\u8868\u9054\u5f0f",permalink:"/tech-note/docs/JavaScript/regular_expressions"},next:{title:"Preview Image",permalink:"/tech-note/docs/JavaScript/upload preview image"}},u=[{value:"\u51fd\u5f0f\u7684\u547c\u53eb",id:"\u51fd\u5f0f\u7684\u547c\u53eb",children:[],level:2},{value:"\u6df1\u5165\u51fd\u5f0f\u4e2d",id:"\u6df1\u5165\u51fd\u5f0f\u4e2d",children:[{value:"this\u503c\u662f\u4f55\u6642\u7522\u751f\u7684\uff1f",id:"this\u503c\u662f\u4f55\u6642\u7522\u751f\u7684",children:[],level:3},{value:"this\u503c\u7684\u7522\u751f\u898f\u5247\u662f\u4ec0\u9ebc\uff1f",id:"this\u503c\u7684\u7522\u751f\u898f\u5247\u662f\u4ec0\u9ebc",children:[],level:3},{value:"Context\u662f\u4ec0\u9ebc\uff1f",id:"context\u662f\u4ec0\u9ebc",children:[],level:3}],level:2},{value:"\u56db\u7a2e\u51fd\u5f0f\u547c\u53eb\u6a23\u5f0f(invocation pattern)",id:"\u56db\u7a2e\u51fd\u5f0f\u547c\u53eb\u6a23\u5f0finvocation-pattern",children:[],level:2},{value:"Scope vs Context",id:"scope-vs-context",children:[],level:2},{value:"\u57f7\u884c\u4e0a\u4e0b\u6587(Execution Context, EC)",id:"\u57f7\u884c\u4e0a\u4e0b\u6587execution-context-ec",children:[],level:2},{value:"this\u7684\u5206\u754c",id:"this\u7684\u5206\u754c",children:[],level:2},{value:"\u7bad\u982d\u51fd\u5f0f\u7d81\u5b9athis",id:"\u7bad\u982d\u51fd\u5f0f\u7d81\u5b9athis",children:[],level:2},{value:"\u5728\u7269\u4ef6\u8207\u9663\u5217\u4e2d\u51fd\u5f0f\u7684<code>this</code>",id:"\u5728\u7269\u4ef6\u8207\u9663\u5217\u4e2d\u51fd\u5f0f\u7684this",children:[],level:2},{value:"\u5c0f\u5c0f\u554f\u984c\u7684\u89e3\u7b54",id:"\u5c0f\u5c0f\u554f\u984c\u7684\u89e3\u7b54",children:[],level:2},{value:"\u7d50\u8a9e",id:"\u7d50\u8a9e",children:[],level:2},{value:"\u53c3\u8003\u6587\u7ae0",id:"\u53c3\u8003\u6587\u7ae0",children:[],level:2}],s={toc:u};function k(n){var e=n.components,t=(0,l.Z)(n,i);return(0,o.kt)("wrapper",(0,a.Z)({},s,t,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"this"},"this"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u5728\u5176\u4ed6\u4ee5\u985e\u5225\u70ba\u57fa\u790e\u7684\u7a0b\u5f0f\u8a9e\u8a00\u4e2d\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u6307\u7684\u662f\u76ee\u524d\u4f7f\u7528\u985e\u5225\u9032\u884c\u5be6\u9ad4\u5316\u7684\u7269\u4ef6\u3002\u800cJavaScript\u8a9e\u8a00\u4e2d\u56e0\u70ba\u5728\u8a2d\u8a08\u4e0a\u4e26\u4e0d\u662f\u4ee5\u985e\u5225\u70ba\u57fa\u790e\u7684\u7269\u4ef6\u5c0e\u5411\uff0c\u8a2d\u8a08\u4e0a\u4e0d\u4e00\u6a23\uff0c\u6240\u4ee5",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u7684\u6307\u5411\u7684\u662f\u76ee\u524d\u547c\u53eb\u51fd\u5f0f\u6216\u65b9\u6cd5\u7684\u64c1\u6709\u8005(owner)\u7269\u4ef6\uff0c\u4e5f\u5c31\u662f\u8aaa\u5b83\u8207\u51fd\u5f0f\u5982\u4f55\u88ab\u547c\u53eb\u6216\u8abf\u7528\u6709\u95dc\uff0c\u96d6\u7136\u662f\u540c\u4e00\u51fd\u5f0f\u7684\u547c\u53eb\uff0c\u56e0\u70ba\u4e0d\u540c\u7684\u7269\u4ef6\u547c\u53eb\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u4e0d\u540c\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u3002")),(0,o.kt)("h2",{id:"\u51fd\u5f0f\u7684\u547c\u53eb"},"\u51fd\u5f0f\u7684\u547c\u53eb"),(0,o.kt)("p",null,"\u4e0d\u8ad6\u662f\u5728\u7269\u4ef6\u4e2d\u7684\u65b9\u6cd5\uff0c\u6216\u662f\u4e00\u822c\u7684\u51fd\u5f0f\uff0c\u6bcf\u500b\u51fd\u5f0f\u4e2d\u90fd\u6709",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u3002\u4ee5\u4e0b\u662f\u4e00\u500b\u5f88\u7c21\u55ae\u7684\u7bc4\u4f8b\uff0c\u4e00\u500b\u662f\u6211\u5011\u6240\u8a8d\u77e5\u7684\u666e\u901a\u51fd\u5f0f\uff0c\u4e00\u500b\u662f\u5728\u7269\u4ef6\u4e2d\u7684\u65b9\u6cd5:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"function func(param1, param2){\n  console.log(this)\n}\n\nconst objA = {\n  test(){\n    console.log(this)\n  }\n}\n\nfunc() //undefined\nobjA.test() //Object(objA)\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"func"),"\u51fd\u5f0f\u5728\u547c\u53eb\u6642\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u662f",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff0c\u539f\u672c\u5b83\u61c9\u8a72\u6703\u56de\u50b3\u5168\u57df\u7269\u4ef6\uff0c\u5728\u700f\u89bd\u5668\u4e2d\u5c31\u662fwindow\u7269\u4ef6\uff0c\u9019\u662f\u56e0\u70bababel\u9810\u8a2d\u6703\u958b\u555fstrict mode(\u56b4\u683c\u6a21\u5f0f)\uff0c\u70ba\u4e86\u5b89\u5168\u6027\u7684\u7406\u7531\uff0c\u539f\u672c\u7684\u5168\u57df\u7269\u4ef6\u8b8a\u6210\u4e86",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff0c\u4ee5\u4e0b\u7684\u5167\u5bb9\u4e5f\u662f\u7528\u9019\u6a23\u7684\u4f5c\u6cd5\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"objA.test"),"\u65b9\u6cd5\u5728\u547c\u53eb\u6642\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u5c31\u662f",(0,o.kt)("inlineCode",{parentName:"p"},"objA"),"\u7269\u4ef6\u672c\u8eab\uff0c\u9019\u4e00\u9ede\u4e0d\u96e3\u7406\u89e3\u3002\u7528\u4ee5\u4e0b\u7684\u7bc4\u4f8b\u53ef\u4ee5\u6aa2\u67e5",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u548c",(0,o.kt)("inlineCode",{parentName:"p"},"objA"),"\u662f\u4e0d\u662f\u76f8\u540c\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const objA = {\n  test(){\n    console.log(this)\n    console.log(this === objA) //true\n    console.log(objA)\n  }\n}\n\nobjA.test()\n")),(0,o.kt)("p",null,"\u4e0d\u904e\u9019\u88e1\u6709\u500b\u5c0f\u5730\u65b9\u6703\u8b93\u4f60\u89ba\u5f97\u5f88\u4e0d\u53ef\u601d\u8b70\u7684\u662f\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"ObjA"),"\u7269\u4ef6\u4e2d\u7684\u65b9\u6cd5\u7adf\u7136\u53ef\u4ee5\u8b80\u53d6\u5230",(0,o.kt)("inlineCode",{parentName:"p"},"ObjA"),"\u7269\u4ef6\uff1f"),(0,o.kt)("p",null,"\u662f\u7684\uff0c\u5be6\u969b\u4e0a\u5b83\u4e0d\u6b62\u7269\u4ef6\u4e2d\u53ef\u4ee5\u8b80\u53d6\u5230\u7269\u4ef6\u672c\u8eab\uff0c\u7269\u4ef6\u4e2d\u7684\u65b9\u6cd5\u9084\u53ef\u4ee5\u57f7\u884c\u81ea\u5df1\u672c\u8eab\u7684\u65b9\u6cd5\uff0c\u4e0b\u9762\u7684\u7a0b\u5f0f\u78bc\u9084\u53ef\u4ee5\u8b93\u4f60\u7684\u700f\u89bd\u5668\u7121\u6b62\u76e1\u7684\u57f7\u884c\uff0c\u7136\u5f8c\u7576\u6389:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"//\u6ce8\u610f: \u700f\u89bd\u5668\u6709\u53ef\u80fd\u6703\u7576\u6389\nconst objA = {\n  test(){\n    objA.test()\n  }\n}\n")),(0,o.kt)("p",null,"\u5728\u51fd\u5f0f\u4e2d\u4e5f\u53ef\u4ee5\u9019\u6a23\u4f5c\uff0c\u4e5f\u662f\u6703\u8b93\u4f60\u7684\u700f\u89bd\u5668\u6700\u5f8c\u7576\u6389\uff0c\u9019\u662f\u90fd\u662f\u932f\u8aa4\u7684\u793a\u7bc4:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"//\u6ce8\u610f: \u700f\u89bd\u5668\u6709\u53ef\u80fd\u6703\u7576\u6389\nfunction func(param1, param2){\n  func()\n}\n\nfunc()\n")),(0,o.kt)("p",null,"\u4ee5\u4e0a\u7b97\u662f\u984c\u5916\u8a71\uff0c\u4e0d\u904e\u9019\u90e8\u4efd\u5728\u5f8c\u9762\u53ef\u4ee5\u7c21\u55ae\u7684\u8aaa\u660e\u70ba\u4ec0\u9ebc\u53ef\u4ee5\u9019\u6a23\u4f5c\u3002\u6211\u5011\u5148\u95dc\u5fc3\u5e7e\u500b\u91cd\u8981\u7684\u8b70\u984c\u3002"),(0,o.kt)("h2",{id:"\u6df1\u5165\u51fd\u5f0f\u4e2d"},"\u6df1\u5165\u51fd\u5f0f\u4e2d"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},'\u6240\u6709\u7684\u51fd\u5f0f\u5728\u547c\u53eb\u6642\uff0c\u5176\u5be6\u90fd\u6709\u4e00\u500b\u64c1\u6709\u8005\u7269\u4ef6\u4f86\u9032\u884c\u547c\u53eb\u3002\u6240\u4ee5\u4f60\u53ef\u4ee5\u8aaa\uff0c\u5176\u5be6\u6240\u6709\u51fd\u5f0f\u90fd\u662f\u7269\u4ef6\u4e2d\u7684"\u65b9\u6cd5"\u3002\u6240\u6709\u7684\u51fd\u5f0f\u57f7\u884c\u90fd\u662f\u4ee5Object.method()\u65b9\u5f0f\u547c\u53eb\u3002')),(0,o.kt)("p",null,"\u95dc\u65bc\u9019\u4e00\u9ede\uff0c\u4e0b\u9762\u7684\u7bc4\u4f8b\u5c31\u53ef\u4ee5\u8aaa\u660e\u4e00\u5207\u4e86\uff0c\u6709\u500b\u5168\u57df\u7269\u4ef6(\u5728\u700f\u89bd\u5668\u4e2d\u662fwindow\u7269\u4ef6)\u662f\u6240\u6709\u51fd\u5f0f\u5728\u547c\u53eb\u6642\u9810\u8a2d\u7269\u4ef6\uff0c\u4e0b\u9762\u4e09\u7a2e\u51fd\u5f0f\u547c\u53eb\u90fd\u662f\u540c\u6a23\u7684\u4f5c\u7528:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"function func(param){\n  console.log(this)\n}\n\nwindow.func() //\u53ea\u80fd\u5728\u4e0d\u662fstrict mode\u4e0b\u57f7\u884c\nthis.func()  //\u53ea\u80fd\u5728\u4e0d\u662fstrict mode\u4e0b\u57f7\u884c\nfunc()\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u5c0dthis\u503c\u4f86\u8aaa\uff0c\u5b83\u6839\u672c\u4e0d\u95dc\u5fc3\u51fd\u5f0f\u662f\u5728\u54ea\u88e1\u5b9a\u7fa9\u6216\u662f\u600e\u9ebc\u5b9a\u7fa9\u7684\uff0c\u5b83\u53ea\u95dc\u5fc3\u662f\u8ab0\u547c\u53eb\u4e86\u5b83\u3002")),(0,o.kt)("p",null,"\u5728JavaScript\u4e2d\u51fd\u5f0f\u662f\u4e00\u500b\u5f88\u5947\u5999\u7684\u6771\u897f\uff0c\u5b83\u7684\u78ba\u662f\u4e00\u500b\u7269\u4ef6\u985e\u578b\uff0c\u53c8\u4e0d\u592a\u50cf\u662f\u4e00\u822c\u7684\u7269\u4ef6\uff0c\u4ee5",(0,o.kt)("inlineCode",{parentName:"p"},"typeof"),"\u7684\u56de\u50b3\u503c\u4f86\u8aaa\uff0c\u5b83\u56de\u50b3\u7684\u662f",(0,o.kt)("inlineCode",{parentName:"p"},"function"),"\uff0c\u4ee3\u8868\u64c1\u6709\u7368\u7acb\u7684\u56de\u50b3\u985e\u578b\u503c\u3002\u5728\u51fd\u5f0f\u7269\u4ef6\u7684API\u5b9a\u7fa9\u4e2d\uff0c\u5b83\u6bd4\u4e00\u822c\u7269\u4ef6\u591a\u4e86\u5e7e\u500b\u7279\u5225\u7684\u5c6c\u6027\u8207\u65b9\u6cd5\uff0c\u5176\u4e2d\u6700\u7279\u5225\u7684\u662f\u4ee5\u4e0b\u9019\u4e09\u500b\uff0c\u6211\u628a\u5b83\u5011\u7684\u5b9a\u7fa9\u5beb\u51fa\u4f86:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"call(\u547c\u53eb): \u4ee5\u500b\u5225\u63d0\u4f9b\u7684",(0,o.kt)("inlineCode",{parentName:"li"},"this"),"\u503c\u8207\u50b3\u5165\u53c3\u6578\u503c\u4f86\u547c\u53eb\u51fd\u5f0f\u3002"),(0,o.kt)("li",{parentName:"ul"},"bind(\u7d81\u5b9a): \u5efa\u7acb\u4e00\u500b\u65b0\u7684\u51fd\u5f0f\uff0c\u9019\u500b\u65b0\u51fd\u5f0f\u5728\u547c\u53eb\u6642\uff0c\u6703\u4ee5\u63d0\u4f9b\u7684this\u503c\u8207\u4e00\u9023\u4e32\u7684\u50b3\u5165\u53c3\u6578\u503c\u4f86\u9032\u884c\u547c\u53eb\u3002"),(0,o.kt)("li",{parentName:"ul"},"apply(\u61c9\u7528): \u8207call\u65b9\u6cd5\u529f\u80fd\u4e00\u6a23\uff0c\u53ea\u662f\u9664\u4e86this\u503c\u50b3\u5165\u5916\uff0c\u53e6\u4e00\u500b\u50b3\u5165\u53c3\u6578\u503c\u4f7f\u7528\u9663\u5217\u3002")),(0,o.kt)("p",null,"\u90a3\u9ebc\uff0c\u9019\u500b",(0,o.kt)("inlineCode",{parentName:"p"},"call"),"\u65b9\u6cd5\u8207\u76f4\u63a5\u4f7f\u7528\u4e00\u822c\u7684\u7a0b\u5f0f\u547c\u53eb\u65b9\u5f0f\u4f86\u57f7\u884c\u51fd\u5f0f\uff0c\u4f8b\u5982",(0,o.kt)("inlineCode",{parentName:"p"},"func()"),"\u6709\u4f55\u4e0d\u540c\uff1f"),(0,o.kt)("p",null,"\u57fa\u672c\u4e0a\u5b8c\u5168\u4e00\u6a23\uff0c\u9664\u4e86\u5b83\u5728\u53c3\u6578\u88e1\u53ef\u4ee5\u50b3\u5165\u4e00\u500b\u7269\u4ef6\uff0c\u8b93\u4f60\u53ef\u4ee5\u8f49\u63db\u51fd\u5f0f\u539f\u672c\u7684\u4e0a\u4e0b\u6587(context)\u5230\u65b0\u7684\u7269\u4ef6\u4e4b\u524d\u3002(\u8a3b: Context\u7684\u8aaa\u660e\u5728\u4e0b\u9762)"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"call"),"\u65b9\u6cd5\u53ef\u4ee5\u628a\u51fd\u5f0f\u7684\u5b9a\u7fa9\u8207\u547c\u53eb\u62c6\u6210\u5169\u4ef6\u4e8b\u4f86\u4f5c\uff0c\u5b9a\u7fa9\u662f\u5b9a\u7fa9\uff0c\u547c\u53eb\u662f\u547c\u53eb\u3002\u4ee5\u4e0b\u70ba\u4e00\u500b\u7bc4\u4f8b:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"function func(param1){\n  console.log('func', this)\n}\n\nconst objA = {\n  methodA(){\n    console.log('objA methodA', this)\n  }\n}\n\nconst objB = { a:1, b:2 }\n\nfunc.call(objB) //func Object {a: 1, b: 2}\nobjA.methodA.call(objB) //objA methodA Object {a: 1, b: 2}\n")),(0,o.kt)("p",null,"\u9019\u7a2e\u73fe\u5be6\u8b93\u4f60\u5c0d\u51fd\u5f0f\u7684\u5370\u8c61\u5d29\u58de\uff0c\u4e0d\u8ad6\u662f\u4e00\u822c\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"func"),"\u547c\u53eb\uff0c\u6216\u662f\u4f4d\u65bc\u7269\u4ef6",(0,o.kt)("inlineCode",{parentName:"p"},"objA"),"\u4e2d\u7684\u65b9\u6cd5",(0,o.kt)("inlineCode",{parentName:"p"},"methodA"),"\uff0c\u4f7f\u7528\u4e86call\u65b9\u6cd5\u5f8c\uff0c\u7adf\u7136",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u5c31\u6703\u8b8a\u6210",(0,o.kt)("inlineCode",{parentName:"p"},"call"),"\u4e2d\u7684\u7b2c\u4e00\u500b\u50b3\u5165\u53c3\u6578\u503c\uff0c\u4e5f\u5c31\u662f\u7269\u4ef6",(0,o.kt)("inlineCode",{parentName:"p"},"objB"),"\u3002",(0,o.kt)("del",{parentName:"p"},"\u6709\u7a2e\u8f9b\u8f9b\u82e6\u82e6\u990a\u5927\u7684\u5c0f\u5b69\uff0c\u7adf\u7136\u88ab\u8a8d\u8cca\u4f5c\u7236\u7684\u5fc3\u60c5\u3002")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"bind"),"\u65b9\u6cd5\u66f4\u662f\u53b2\u5bb3\uff0c\u5b83\u6703\u5f9e\u539f\u6709\u7684\u51fd\u5f0f\u6216\u65b9\u6cd5\u5b9a\u7fa9\uff0c\u7522\u751f\u4e00\u500b\u65b0\u7684\u65b9\u6cd5\u3002\u70ba\u4e86\u5c55\u793a\u5b83\u7684\u53b2\u5bb3\u4e4b\u8655\uff0c\u51fd\u5f0f\u52a0\u4e86\u5169\u500b\u50b3\u5165\u53c3\u6578\uff0c\u4e0b\u9762\u662f\u51fd\u5f0f\u90e8\u4efd:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"function funcA(param1, param2){\n  console.log(this, param1, param2)\n}\n\nconst objB = { a: 1, b: 2 }\n\nfuncA() //undefined undefined undefined\n\nconst funcB = funcA.bind(objB, objB.a)\n\nfuncB() //Object {a: 1, b: 2} 1 undefined\nfuncB(objB.b) //Object {a: 1, b: 2} 1 2\n")),(0,o.kt)("p",null,"\u9019\u662f\u7269\u4ef6\u4e2d\u7684\u65b9\u6cd5\u5b9a\u7fa9\u7684\u7bc4\u4f8b\uff0c\u9019\u548c\u4e0a\u9762\u6c92\u4ec0\u9ebc\u5169\u6a23\uff0c\u53ea\u662f\u51fd\u5f0f\u5b9a\u7fa9\u5728\u7269\u4ef6objA\u4e4b\u4e2d\u800c\u5df2:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const objA = {\n  methodA(param1, param2){\n    console.log('objA methodA', this, param1, param2)\n  }\n}\n\nconst objB = { a: 1, b: 2 }\n\nobjA.methodA()\n\nconst methodB = objA.methodA.bind(objB, objB.a)\nmethodB()\nmethodB(objB.b)\n")),(0,o.kt)("p",null,"\u4e0d\u904e\u56e0\u70ba\u7528\u4e86\u7269\u4ef6\uff0c\u61c9\u8a72\u8981\u8b93\u65b9\u6cd5\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7269\u4ef6\u4e2d\u7684\u5c6c\u6027\u624d\u662f\u59a5\u5584\u5229\u7528\uff0c\u53e6\u4e00\u7a2e\u7bc4\u4f8b\u5982\u4e0b:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const objA = {\n  a: 8,\n  b: 7,\n  methodA(){\n    console.log(this, this.a, this.b)\n  }\n}\n\nconst objB = { a: 1, b: 2 }\n\nobjA.methodA() //Object {a: 8, b: 7} 8 7\n\nconst methodB = objA.methodA.bind(objB, objB.a)\n\nmethodB() //Object {a: 1, b: 2} 1 2\nmethodB(objB.b) //Object {a: 1, b: 2} 1 2\n")),(0,o.kt)("p",null,"\u5f9e\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u9019\u500b",(0,o.kt)("inlineCode",{parentName:"p"},"bind"),"\u65b9\u6cd5\u53ef\u4ee5\u7528\u539f\u6709\u7684\u51fd\u5f0f\uff0c\u7522\u751f\u4e00\u500b\u7a31\u70ba\u90e8\u4efd\u5957\u7528(Partially applied)\u7684\u65b0\u51fd\u5f0f\uff0c\u4e5f\u5c31\u662f\u5c0d\u539f\u6709\u7684\u51fd\u5f0f\u7684\u50b3\u5165\u53c3\u6578\u503c\u56fa\u5b9a\u4f4f\u90e8\u4efd\u50b3\u5165\u53c3\u6578\u7684\u503c(\u5f9e\u5de6\u908a\u958b\u59cb\u7b97)\u3002\u9019\u662f\u4e00\u7a2e\u5f88\u7279\u5225\u7684\u7279\u6027\uff0c\u6709\u4e00\u4e9b\u61c9\u7528\u60c5\u6cc1\u6703\u7528\u5230\u5b83\u3002"),(0,o.kt)("p",null,'\u6700\u5f8c\u7528\u4e0b\u9762\u9019\u500b\u4f8b\u5b50\u4f86\u7e3d\u7d50\uff0c\u4ec0\u9ebc\u53eb\u4f5c"\u51fd\u5f0f\u5b9a\u7fa9\u662f\u5b9a\u7fa9\uff0c\u547c\u53eb\u662f\u547c\u53eb"\uff0c\u5be6\u969b\u4e0a\u5728\u7269\u4ef6\u5b9a\u7fa9\u7684\u6240\u8b02\u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u628a\u5b83\u7576\u4f5c\uff0c\u53ea\u662f\u8b93\u7a0b\u5f0f\u8a2d\u8a08\u5e2b\u65b9\u4fbf\u96c6\u4e2d\u7ba1\u7406\u7684\u51fd\u5f0f\u5b9a\u7fa9\u800c\u5df2\u3002'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const objA = {a:1}\n\nconst objB = {\n  a: 10,\n  methodB(){\n    console.log(this)\n  }\n\n}\n\nconst funcA = objB.methodB\n\nobjB.methodB() //objB\nfuncA() //undefined\uff0c\u4e5f\u5c31\u662f\u5168\u57df\u7269\u4ef6window\nobjB.methodB.call(objA) //objA\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u8a3b: function call\u8207function invoke(invocation)\u662f\u540c\u610f\u7fa9\u5b57\u8a5e")),(0,o.kt)("h3",{id:"this\u503c\u662f\u4f55\u6642\u7522\u751f\u7684"},"this\u503c\u662f\u4f55\u6642\u7522\u751f\u7684\uff1f"),(0,o.kt)("p",null,"\u51fd\u5f0f\u547c\u53eb\u57f7\u884c\u6642\u7522\u751f\u3002"),(0,o.kt)("p",null,"\u7576\u51fd\u5f0f\u88ab\u547c\u53eb(call/invoke)\u6642\uff0c\u6709\u500b\u65b0\u7269\u4ef6\u6703\u88ab\u5efa\u7acb\uff0c\u88e1\u9762\u6703\u5305\u542b\u4e00\u4e9b\u8cc7\u8a0a\uff0c\u4f8b\u5982\u50b3\u5165\u7684\u53c3\u6578\u503c\u662f\u4ec0\u9ebc\u3001\u51fd\u5f0f\u662f\u5982\u4f55\u88ab\u547c\u53eb\u7684\u3001\u51fd\u5f0f\u662f\u88ab\u8ab0\u547c\u53eb\u7684\u7b49\u7b49\u3002\u9019\u500b\u7269\u4ef6\u88e1\u9762\u6709\u500b\u4e3b\u8981\u7684\u5c6c\u6027this\u53c3\u7167\u503c\uff0c\u6307\u5411\u547c\u53eb\u9019\u500b\u51fd\u5f0f\u7684\u7269\u4ef6\u3002\u4e0d\u540c\u7684\u51fd\u5f0f\u88ab\u547c\u53eb\u6642\uff0cthis\u503c\u5c31\u6703\u4e0d\u540c\u3002"),(0,o.kt)("h3",{id:"this\u503c\u7684\u7522\u751f\u898f\u5247\u662f\u4ec0\u9ebc"},"this\u503c\u7684\u7522\u751f\u898f\u5247\u662f\u4ec0\u9ebc\uff1f"),(0,o.kt)("p",null,"this\u503c\u6703\u9075\u5b88",(0,o.kt)("a",{parentName:"p",href:"http://www.ecma-international.org/ecma-262/5.1/#sec-10.4.3"},"ECMAScript\u6a19\u6e96"),"\u4e2d\u6240\u5b9a\u7fa9\u7684\u4e00\u4e9b\u57fa\u672c\u898f\u5247\uff0c\u5927\u6982\u6458\u8981\u5982\u4e0b\uff0c\u51fd\u5f0f\u4e2d\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u6309\u9806\u5e8f\u4e00\u4e00\u6aa2\u8996\uff0c\u53ea\u6703\u7b26\u5408\u5176\u4e00\u7a2e\u7d50\u679c(if...else\u8a9e\u53e5):"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u7576\u4f7f\u7528strict code(\u56b4\u683c\u6a21\u5f0f\u7a0b\u5f0f\u78bc)\u6642\uff0c\u76f4\u63a5\u8a2d\u5b9a\u70bacall\u65b9\u6cd5\u88e1\u9762\u7684thisArg(this\u53c3\u6578\u503c)\u3002"),(0,o.kt)("li",{parentName:"ol"},"\u7576thisArg(this\u53c3\u6578\u503c)\u662fnull\u6216undefined\u6642\uff0c\u6703\u7d81\u5b9a\u70ba\u5168\u57df(global)\u7269\u4ef6\u3002"),(0,o.kt)("li",{parentName:"ol"},"\u7576thisArg(this\u53c3\u6578\u503c)\u7684\u985e\u578b\u4e0d\u662f\u7269\u4ef6\u985e\u578b\u6642\uff0c\u6703\u7d81\u5b9a\u70ba\u8f49\u70ba\u7269\u4ef6\u985e\u578b\u7684\u503c\u3002"),(0,o.kt)("li",{parentName:"ol"},"\u90fd\u4e0d\u662f\u4ee5\u4e0a\u7684\u60c5\u6cc1\u6642\uff0c\u7d81\u5b9a\u70bathisArg(this\u53c3\u6578\u503c)\u3002")),(0,o.kt)("p",null,"\u7b2c1\u9ede\u5c31\u660e\u78ba\u7684\u8aaa\u660e\u4e86\uff0c\u70ba\u4ec0\u9ebc\u4f7f\u7528strict mode(\u56b4\u683c\u6a21\u5f0f)\u5f8c\uff0c\u5728\u5168\u57df\u7684\u51fd\u5f0f\u547c\u53eb\u57f7\u884c\uff0cthis\u503c\u4e00\u5b9a\u90fd\u662f",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff0c\u56e0\u70ba\u5728call\u4e2d\u6839\u672c\u6c92\u50b3\u5165thisArg\u503c\u3002\u9664\u975e\u95dc\u9589strict mode(\u56b4\u683c\u6a21\u5f0f)\u624d\u6703\u8b8a\u70ba\u7b2c2\u9ede\u7684\u5168\u57dfwindow\u7269\u4ef6\u3002"),(0,o.kt)("h3",{id:"context\u662f\u4ec0\u9ebc"},"Context\u662f\u4ec0\u9ebc\uff1f"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"Context"),'\u9019\u500b\u5b57\u8a5e\u662f\u4e0d\u6613\u7406\u89e3\u7684\uff0c\u5728\u82f1\u6587\u88e1\u6709\u4e0a\u4e0b\u6587\u3001\u74b0\u5883\u7684\u610f\u601d\uff0c\u4ec0\u9ebc\u53eb\u4f5c"\u4e0a\u4e0b\u6587"\uff1f\u9019\u4e2d\u6587\u7ffb\u8b6f\u4e5f\u662f\u6709\u770b\u6c92\u6709\u61c2\u3002\u9084\u8a18\u5f97\u5728\u570b\u9ad8\u4e2d\u82f1\u6587\u8ab2\u7684\u6642\u5019\uff0c\u82f1\u6587\u8001\u5e2b\u6709\u8aaa\u904e\uff0c\u6709\u4e9b\u82f1\u6587\u5b57\u8a5e\u7684\u610f\u601d\u9700\u8981\u7528"\u4e0a\u4e0b\u6587"\u4f86\u63a8\u6572\u624d\u77e5\u9053\u5b83\u7684\u610f\u601d\uff0c\u70ba\u4ec0\u9ebc\u8981\u9019\u6a23\u4f5c\uff1f\u8001\u5e2b\u4e00\u5b9a\u6c92\u6709\u628a\u539f\u56e0\u8aaa\u5f97\u5f88\u6e05\u695a\uff0c\u7b2c\u4e00\u500b\u539f\u56e0\u662f\u82f1\u6587\u55ae\u5b57\u4f60\u5b78\u5f97\u4e0d\u5920\u591a\uff0c\u5f88\u591a\u6642\u5019\u8003\u8a66\u8a66\u984c\u4e2d\u7684\u82f1\u6587\u55ae\u5b57\u901a\u5e38\u4f60\u90fd\u6c92\u8b80\u5230\uff0c\u6240\u4ee5\u53ea\u597d\u731c\u731c\u770b(',(0,o.kt)("del",{parentName:"p"},"\u9019\u500b\u539f\u56e0\u53ea\u662f\u500b\u7b11\u8a71\u800c\u5df2"),')\u3002\u7b2c\u4e8c\u500b\u539f\u56e0\u662f\uff0c\u82f1\u6587\u5b57\u8a5e\u5f88\u591a\u6642\u5019\u540c\u4e00\u500b\u5b57\u8a5e\u6709\u5f88\u591a\u7a2e\u610f\u601d\uff0c\u6709\u6642\u5019\u7528\u65bc\u52d5\u8a5e\u8207\u540d\u8a5e\u662f\u5169\u78bc\u5b50\u4e8b\uff0c\u8209\u500b\u4f8b\u5b50\u4f86\u8aaa\uff0c"book"\u9019\u500b\u82f1\u6587\u55ae\u5b57\uff0c\u4f60\u7528\u8173\u5e95\u677f\u4e0d\u9700\u7d93\u904e\u5927\u8166\uff0c\u7b2c\u4e00\u6642\u9593\u5c31\u6703\u8aaa\u5b83\u662f"\u66f8"\u7684\u610f\u601d\uff0c\u5e7c\u7a1a\u5712\u5c31\u5b78\u904e\u4e86\uff0c\u4f46\u662f\u4f60\u5fd8\u4e86\u90a3\u662f\u7528\u65bc\u7576\u4f5c\u540d\u8a5e\u7684\u60c5\u6cc1\uff0c\u7528\u65bc\u52d5\u8a5e\u662f"\u9810\u8a02"\u7684\u610f\u601d\u3002'),(0,o.kt)("p",null,"\u5728\u7a0b\u5f0f\u8a9e\u8a00\u4e2d\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"Context"),"\u6307\u7684\u662f\u7269\u4ef6\u7684\u74b0\u5883\u4e4b\u4e2d\uff0c\u4e5f\u5c31\u662f\u8655\u65bc\u7269\u4ef6\u6240\u80fd\u63d0\u4f9b\u7684\u8cc7\u6599\u7d44\u5408\u4e2d\uff0c\u9019\u500b",(0,o.kt)("inlineCode",{parentName:"p"},"Context"),"\u662f\u7531",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u4f86\u63d0\u4f9b\u3002"),(0,o.kt)("p",null,"\u518d\u7528\u767d\u8a71\u4e00\u9ede\u7684\u8b1b\u6cd5\uff0c\u4f86\u770b\u51fd\u5f0f\u8207",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u7684\u95dc\u4fc2\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u662f\u9b54\u6cd5\u5e2b\u7684\u89d2\u8272\uff0c\u800c\u51fd\u5f0f\u662f\u8981\u65bd\u5c55\u7684\u9b54\u6cd5\uff0c\u9b54\u6cd5\u7684\u5f37\u5ea6\u6216\u7834\u58de\u529b\uff0c\u6703\u4f9d\u65bd\u6cd5\u8005\u7684\u8cc7\u8cea\u8207\u80fd\u529b\u6709\u6240\u4e0d\u540c\uff0c\u9b54\u6cd5\u5728\u65bd\u5c55\u4e2d\u6703\u904b\u7528\u5230\u65bd\u6cd5\u8005\u7684\u672c\u8eab\u7684\u8cc7\u8cea(\u667a\u6167\u3001MP\u3001\u719f\u7df4\u5ea6\u2026\u7b49\u7b49)\u7684\u9019\u6574\u9ad4\u7684\u7d20\u8cea\u7279\u6027\uff0c\u9019\u5c31\u662f\u6240\u8b02\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"Context"),"\u4e86\u3002"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u8a3b: ",(0,o.kt)("inlineCode",{parentName:"p"},"Context"),"\u8207\u5e38\u6703\u770b\u5230\u7684\u53e6\u4e00\u500b\u540d\u8a5e",(0,o.kt)("inlineCode",{parentName:"p"},"Execution Context"),"(\u57f7\u884c\u4e0a\u4e0b\u6587)\u7684\u610f\u7fa9\u662f\u4e0d\u540c\u7684\uff0c\u4ee5\u4e0b\u6703\u6709\u8aaa\u660e\u3002")),(0,o.kt)("h2",{id:"\u56db\u7a2e\u51fd\u5f0f\u547c\u53eb\u6a23\u5f0finvocation-pattern"},"\u56db\u7a2e\u51fd\u5f0f\u547c\u53eb\u6a23\u5f0f(invocation pattern)"),(0,o.kt)("p",null,"\u51fd\u5f0f\u7684\u547c\u53eb\u6a23\u5f0f\u5171\u6709\u56db\u7a2e\uff0c\u5728\u672c\u66f8\u4e2d\u5df2\u7d93\u770b\u5230\u904e\u9019\u56db\u7a2e\u4e86\uff0c\u9019\u88e1\u53ea\u662f\u96c6\u4e2d\u6574\u7406\u800c\u5df2:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u4e00\u822c\u7684\u51fd\u5f0f\u547c\u53eb(Function Invocation Pattern)"),(0,o.kt)("li",{parentName:"ul"},"\u7269\u4ef6\u4e2d\u7684\u65b9\u6cd5\u547c\u53eb(Method Invocation Pattern)"),(0,o.kt)("li",{parentName:"ul"},"\u5efa\u69cb\u51fd\u5f0f\u547c\u53eb(Constructor Invocation Pattern)"),(0,o.kt)("li",{parentName:"ul"},"\u4f7f\u7528apply, call, bind\u65b9\u6cd5\u547c\u53eb(Apply invocation pattern\u6216Indirect Invocation Pattern)")),(0,o.kt)("p",null,'\u5176\u4e2d\u7684\u5efa\u69cb\u51fd\u5f0f\u547c\u53eb\uff0c\u5c31\u662f\u4f7f\u7528new\u904b\u7b97\u7b26\u4f86\u9032\u884c\u7269\u4ef6\u5be6\u9ad4\u5316\u7684\u4e00\u7a2e\u51fd\u5f0f\u547c\u53eb\u6a23\u5f0f\uff0c\u8acb\u53c3\u8003"\u7269\u4ef6"\u8207"\u539f\u578b\u7269\u4ef6\u5c0e\u5411"\u7684\u7ae0\u7bc0\u5167\u5bb9\u3002'),(0,o.kt)("h2",{id:"scope-vs-context"},"Scope vs Context"),(0,o.kt)("p",null,"Scope(\u4f5c\u7528\u57df, \u4f5c\u7528\u7bc4\u570d)\u6307\u7684\u662f\u5728\u51fd\u5f0f\u4e2d\u8b8a\u6578(\u5e38\u6578)\u7684\u53ef\u4f7f\u7528\u7bc4\u570d\uff0cJavaScript\u4f7f\u7528\u7684\u662f\u975c\u614b\u6216\u8a5e\u6cd5\u7684(lexical)\u4f5c\u7528\u57df\uff0c\u610f\u601d\u662f\u8aaa\u4f5c\u7528\u57df\u5728\u51fd\u5f0f\u5b9a\u7fa9\u6642\u5c31\u5df2\u7d93\u6c7a\u5b9a\u4e86\u3002JavaScript\u4e2d\u53ea\u6709\u5169\u7a2e\u7684Scope(\u4f5c\u7528\u57df)\uff0c\u5168\u57df(global)\u8207\u51fd\u5f0f(function)\u3002"),(0,o.kt)("p",null,"Context(\u4e0a\u4e0b\u6587)\u6307\u7684\u662f\u51fd\u5f0f\u5728\u88ab\u547c\u53eb\u57f7\u884c\u6642\uff0c\u6240\u8655\u7684\u7269\u4ef6\u74b0\u5883\u3002\u4e0a\u9762\u5df2\u7d93\u6709\u5f88\u8a73\u7d30\u7684\u89e3\u8aaa\u4e86\u3002\u9019\u5169\u500b\u6771\u897f\u96d6\u7136\u90fd\u8207\u51fd\u5f0f\u6709\u95dc\uff0c\u4f46\u662f\u662f\u4e0d\u4e00\u6a23\u6982\u5ff5\u7684\u6771\u897f\u3002"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},'Scope\u901a\u5e38\u88ab\u7a31\u70baVariable Scope(\u8b8a\u6578\u4f5c\u7528\u57df)\uff0c\u610f\u601d\u662f"\u4f5c\u7528\u57df\u4ee3\u8868\u8b8a\u6578\u5b58\u53d6\u7684\u7bc4\u570d"\u3002'),(0,o.kt)("p",{parentName:"blockquote"},'Context\u901a\u5e38\u88ab\u7a31\u70bathis Context\uff0c\u610f\u601d\u662f"\u7531this\u503c\u6240\u4ee3\u8868\u7684\u4e0a\u4e0b\u6587"\u3002')),(0,o.kt)("h2",{id:"\u57f7\u884c\u4e0a\u4e0b\u6587execution-context-ec"},"\u57f7\u884c\u4e0a\u4e0b\u6587(Execution Context, EC)"),(0,o.kt)("p",null,"\u57f7\u884c\u4e0a\u4e0b\u6587(Execution Context)\u770b\u8d77\u4f86\u8207\u4e0a\u4e0b\u6587(Context)\u5f88\u50cf\uff0c\u4f46\u662f\u5b83\u5011\u662f\u4e0d\u540c\u7684\u6982\u5ff5\u3002\u9019\u4e0d\u55ae\u53ea\u662f\u6211\u5011\u4ee5\u4e2d\u6587\u70ba\u4e3b\u7684\u958b\u767c\u8005\u5e38\u5e38\u6703\u641e\u6df7\uff0c\u5176\u5be6\u50cf\u9019\u9ebc\u50cf\u7684\u540d\u8a5e\uff0c\u4ee5\u82f1\u6587\u70ba\u4e3b\u7684\u958b\u767c\u8005\u4e5f\u5f88\u96e3\u7406\u89e3\u7684\u6e05\u695a\u3002\u57f7\u884c\u4e0a\u4e0b\u6587(EC)\u7684\u6982\u5ff5\u5df2\u7d93\u6d89\u53caJavaScript\u8a9e\u8a00\u7684\u57f7\u884c\u5e95\u5c64\u8a2d\u8a08\uff0c\u6709\u5f88\u591a\u8271\u6f80\u7684\u5c08\u6709\u540d\u8a5e\u6703\u5728\u9019\u88e1\u4e00\u4e00\u51fa\u73fe\uff0c\u4ee5\u4e0b\u7684\u8aaa\u660e\u90fd\u662f\u7528\u6bd4\u8f03\u7c21\u55ae\u7684\u65b9\u5f0f\u4f86\u89e3\u8aaa\uff0c\u5c08\u696d\u7684\u5167\u5bb9\u53ef\u4ee5\u53c3\u8003\u7db2\u8def\u4e0a\u7684\u5176\u4ed6\u6587\u7ae0\u3002"),(0,o.kt)("p",null,"JavaScript\u8a9e\u8a00\u4e2d\u4f7f\u7528\u57f7\u884c\u4e0a\u4e0b\u6587(EC)\u7684\u62bd\u8c61\u6982\u5ff5\uff0c\u4f86\u8aaa\u660e\u7a0b\u5f0f\u662f\u5982\u4f55\u88ab\u57f7\u884c\u7684\uff0c\u4f60\u53ef\u4ee5\u628a\u57f7\u884c\u4e0a\u4e0b\u6587\u7576\u6210\u662f\u7528\u4f86\u5340\u5206\u53ef\u57f7\u884c\u7a0b\u5f0f\u78bc\u7528\u7684\uff0c\u5728\u6a19\u6e96\u4e2d\u4e26\u6c92\u6709\u660e\u78ba\u898f\u5b9a\u5b83\u61c9\u8a72\u662f\u4e00\u500b\u9577\u4ec0\u9ebc\u6a23\u7684\u7d50\u69cb\uff0c\u6240\u4ee5\u6211\u628a\u5b83\u7a31\u4e4b\u70ba\u4e00\u7a2e\u7d50\u69cb\u3002"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u6240\u6709\u7684JavaScript\u7a0b\u5f0f\u78bc\u90fd\u662f\u5728\u67d0\u500b\u57f7\u884c\u4e0a\u4e0b\u6587\u4e2d\u88ab\u57f7\u884c\u3002")),(0,o.kt)("p",null,"\u7a0b\u5f0f\u78bc\u6703\u4ee5\u57f7\u884c\u4e0a\u4e0b\u6587(EC)\u4f86\u5340\u5206\u70ba\u4e09\u500b\u985e\u578b\uff0c\u4e5f\u5c31\u662f\u5168\u57df\u3001\u51fd\u5f0f\u547c\u53eb\uff0c\u4ee5\u53caeval\u3002"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},'\u5168\u57df\u7a0b\u5f0f\u78bc: \u5728\u5168\u57df\u74b0\u5883\u4e0b\u7684\u7a0b\u5f0f\u78bc\uff0c\u4e5f\u5c31\u662f\u8981\u76f4\u63a5\u57f7\u884c\u7684\u7a0b\u5f0f\u78bc\uff0c\u6703\u5728"\u5168\u57df\u57f7\u884c\u4e0a\u4e0b\u6587(EC)"\u4e2d\u88ab\u57f7\u884c\u3002'),(0,o.kt)("li",{parentName:"ul"},"\u51fd\u5f0f\u7a0b\u5f0f\u78bc: \u6bcf\u500b\u51fd\u5f0f\u7684\u547c\u53eb\u57f7\u884c\uff0c\u90fd\u6703\u6709\u95dc\u806f\u9019\u500b\u51fd\u5f0f\u7684\u57f7\u884c\u4e0a\u4e0b\u6587(EC)\u3002"),(0,o.kt)("li",{parentName:"ul"},"eval\u7a0b\u5f0f\u78bc: \u4f7f\u7528\u5167\u5efaeval\u65b9\u6cd5\u4e2d\u50b3\u5165\u7684\u7a0b\u5f0f\u78bc\uff0c\u56e0\u70baeval\u662fJavaScript\u4e2d\u8a2d\u8a08\u5f88\u7cdf\u7cd5\u7684\u4e00\u500b\u65b9\u6cd5\uff0c\u6839\u672c\u4e0d\u6703\u88ab\u4f7f\u7528\uff0c\u6240\u4ee5\u5c31\u4e0d\u591a\u52a0\u8a0e\u8ad6\u3002")),(0,o.kt)("p",null,"\u4e00\u500b\u57f7\u884c\u4e0a\u4e0b\u6587(EC)\u7684\u7d50\u69cb\u4e2d\u6703\u5305\u542b\u4e09\u500b\u6771\u897f\uff0c\u4f46\u9019\u53ea\u662f\u6982\u5ff5\u4e0a\u7684\u5167\u5bb9:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Variable object(\u8b8a\u6578\u7269\u4ef6\uff0c\u7c21\u7a31VO): \u96c6\u5408\u57f7\u884c\u4e0a\u4e0b\u6587\u6703\u7528\u5230\u7684\u8b8a\u6578\u8cc7\u6599\u8207\u51fd\u5f0f\u5b9a\u7fa9\u3002"),(0,o.kt)("li",{parentName:"ul"},"Scope chain(\u4f5c\u7528\u57df\u93c8\uff0c\u6216\u4f5c\u7528\u57df\u9023\u9396): \u4e0a\u5c64VO\u8207\u81ea\u5df1\u7684VO\u5f62\u6210\u7684\u4f5c\u7528\u57df\u9023\u9396\u3002"),(0,o.kt)("li",{parentName:"ul"},"this\u503c: \u4e0a\u9762\u6709\u8aaa\u904e\u4e86")),(0,o.kt)("p",null,'\u4e0d\u904e\uff0c\u7576\u51fd\u5f0f\u547c\u53eb\u6642\u7684\u57f7\u884c\u4e0a\u4e0b\u6587\uff0c\u56e0\u70ba\u9084\u9700\u8981\u5305\u542b\u50b3\u5165\u7684\u53c3\u6578\u503c\uff0c\u4ee5\u53ca\u90a3\u500b\u8a2d\u8a08\u76f8\u7576\u6709\u554f\u984c\u7684\u96b1\u85cf"\u507d"\u9663\u5217\u7269\u4ef6 - arguments\u7269\u4ef6\uff0c\u6240\u4ee5\u53c8\u591a\u4e86\u4e00\u500b\u65b0\u540d\u8a5e\u53ebActivation object(\u5553\u52d5\u7269\u4ef6\uff0c\u7c21\u7a31AO)\uff0cAO\u9664\u4e86\u4e0a\u9762\u8aaa\u7684VO\u5b9a\u7fa9\u5916\uff0c\u53c8\u6703\u591a\u5305\u542b\u4e86\u525b\u8aaa\u7684\u53c3\u6578\u503c\u8207arguments\u7269\u4ef6\u3002\u6240\u4ee5\u5728\u51fd\u5f0f\u547c\u53eb\u7684\u57f7\u884c\u4e0a\u4e0b\u6587\uff0cAO\u6703\u7528\u4f86\u626e\u6f14VO\u7684\u89d2\u8272\u3002'),(0,o.kt)("p",null,'Scope chain(\u4f5c\u7528\u57df\u93c8)\u7684\u8a2d\u8a08\u6982\u5ff5\u8207Prototype chain(\u539f\u578b\u93c8)\u975e\u5e38\u76f8\u4f3c\uff0c\u5982\u679c\u4f60\u6709\u8a8d\u771f\u770b\u904e"\u539f\u578b\u7269\u4ef6\u5c0e\u5411"\u90a3\u500b\u7ae0\u7bc0\u7684\u5167\u5bb9\uff0c\u5927\u6982\u5fc3\u4e2d\u5c31\u6709\u500b\u5e95\u4e86\u3002\u4ee5\u51fd\u5f0f\u57f7\u884c\u4e0a\u4e0b\u6587\u4f86\u8aaa\uff0cAO\u88e1\u9762\u6703\u6709\u4e00\u500b\u5c6c\u6027\uff0c\u7528\u4f86\u6307\u5411\u4e0a\u4e00\u5c64(\u7236\u6bcd\u5c64)\u7684AO\uff0c\u9019\u500b\u93c8\u7d50\u6703\u4e00\u76f4\u4e32\u5230\u5168\u57df\u7684VO\u4e0a\u3002\u51fd\u5f0f\u57f7\u884c\u6642\uff0c\u5c0b\u627e\u8b8a\u6578\u6642\u6703\u7528\u4f5c\u7528\u57df\u93c8\u5c0b\u627e\u3002'),(0,o.kt)("p",null,"Scope chain(\u4f5c\u7528\u57df\u93c8)\u7684\u6982\u5ff5\uff0c\u5728\u5be6\u969b\u4f7f\u7528\u4e0a\uff0c\u6703\u51fa\u73fe\u5728\u51fd\u5f0f\u4e2d\u7684\u51fd\u5f0f(\u5167\u90e8\u51fd\u5f0f\uff0c\u5b50\u6bcd\u51fd\u5f0f)\u7d50\u69cb\u7684\u60c5\u6cc1\uff0c\u4e5f\u5c31\u662fJavaScript\u8a9e\u8a00\u4e2d\u5f37\u5927\u4f46\u4e5f\u662f\u4e0d\u6613\u7406\u89e3\u7684\u5176\u4e2d\u4e00\u500b\u7279\u6027 - \u9589\u5305(Closure) \u7684\u7d50\u69cb\u4e4b\u4e2d\u3002\u9019\u4e5f\u662f\u70ba\u4f55\u5167\u90e8\u51fd\u5f0f\u53ef\u4ee5\u5b58\u53d6\u5f97\u5230\u5916\u90e8\u51fd\u5f0f\u7684\u4f5c\u7528\u57df\u7684\u539f\u7406\u3002"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},'\u8a3b: \u4ed4\u7d30\u56de\u60f3\uff0c\u9019\u7a2eJavaScript\u8a9e\u8a00\u4e2d"\u5f37\u5927\u4f46\u4e5f\u662f\u4e0d\u6613\u7406\u89e3"\u7684\u7279\u6027\u5be6\u5728\u6709\u5920\u591a\u3002')),(0,o.kt)("p",null,'\u6700\u5f8c\u4e00\u9ede\uff0c\u5728"\u4e8b\u4ef6\u8ff4\u5708"\u7ae0\u7bc0\u4e2d\u6240\u8aaa\u7684\u547c\u53eb\u5806\u758a(call stack)\uff0c\u5be6\u969b\u4e0a\u5c31\u662f\u7531\u57f7\u884c\u4e0a\u4e0b\u6587\u96c6\u5408\u800c\u6210\u7684\u7d50\u69cb\uff0c\u4f60\u4e5f\u53ef\u628a\u5b83\u53eb\u4f5c\u57f7\u884c\u4e0a\u4e0b\u6587\u5806\u758a(Execution Context Stack)\u6216\u57f7\u884c\u5806\u758a(Excution Stack)\u3002\u5728\u547c\u53eb\u5806\u758a\u7684\u6700\u4e0b\u5c64\u4e00\u5b9a\u662f\u5168\u57df\u57f7\u884c\u4e0a\u4e0b\u6587\u3002'),(0,o.kt)("h2",{id:"this\u7684\u5206\u754c"},"this\u7684\u5206\u754c"),(0,o.kt)("p",null,"\u7576\u51fd\u5f0f\u88ab\u547c\u53eb\u57f7\u884c\u6642\uff0cthis\u503c\u96a8\u4e4b\u7522\u751f\uff0c\u90a3\u5982\u679c\u662f\u51fd\u5f0f\u4e2d\u7684\u51fd\u5f0f\u5462\uff1f\u50cf\u4e0b\u9762\u9019\u6a23\u7684\u5de2\u72c0\u6216\u5167\u90e8\u51fd\u5f0f\u7684\u7d50\u69cb:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction outter() {\n\n  function inner(){\n    console.log(this)\n  }\n\n  inner()\n}\n\noutter.call(obj) //undefined\n")),(0,o.kt)("p",null,"\u7d50\u679c\u662f",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff0c\u5167\u90e8\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"inner"),"\u51fd\u5f0f\u4e0d\u77e5\u9053",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u662f\u4ec0\u9ebc\u5462\uff0c\u70ba\u4ec0\u9ebc\uff1f\u56e0\u70ba\u57f7\u884c\u4e0a\u4e0b\u6587\u662f\u4ee5\u51fd\u5f0f\u547c\u53eb\u4f5c\u70ba\u5340\u5206\uff0c\u6240\u4ee5",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u5728\u4e0d\u540c\u7684\u51fd\u5f0f\u547c\u53eb\u6642\uff0c\u9810\u8a2d\u4e0a\u5c31\u6703\u4e0d\u540c\u3002\u9019\u7a31\u4e4b\u70ba",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u6216",(0,o.kt)("inlineCode",{parentName:"p"},"Context"),"\u7684\u5206\u754c\u3002"),(0,o.kt)("p",null,"\u89e3\u6c7a\u65b9\u5f0f\u662f\u8981\u5229\u7528\u4f5c\u7528\u57df\u93c8(Scope Chain)\u7684\u8a2d\u8a08\uff0c\u4e5f\u5c31\u662f\u8aaa\uff0c\u96d6\u7136inner\u51fd\u5f0f\u8207\u5916\u9762\u7684outter\u5206\u5c6c\u4e0d\u540c\u51fd\u5f0f\uff0c\u4f46inner\u51fd\u5f0f\u5177\u6709\u5b58\u53d6\u5f97\u5230outter\u51fd\u5f0f\u7684\u4f5c\u7528\u57df\u7684\u80fd\u529b\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u9019\u6a23\u7684\u89e3\u6c7a\u65b9\u6cd5:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction outter() {\n  //\u66ab\u5b58outter\u7684this\u503c\n  const that = this\n\n  function inner(){\n    console.log(that) //\u7528\u4f5c\u7528\u57df\u93c8\u8b80\u53d6outter\u4e2d\u7684that\u503c\n  }\n\n  inner()\n}\n\noutter.call(obj) //Object {a: 1}\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"that"),"\u662f\u4e00\u500b\u96a8\u4f60\u9ad8\u8208\u7684\u8b8a\u6578(\u5e38\u6578)\u540d\u7a31\uff0c\u9019\u4e26\u4e0d\u662f\u4ec0\u9ebc\u7279\u6b8a\u7684\u95dc\u9375\u5b57\u6216\u4fdd\u7559\u5b57\uff0c\u4e5f\u6709\u4eba\u559c\u6b61\u53d6",(0,o.kt)("inlineCode",{parentName:"p"},"self"),"\u6216",(0,o.kt)("inlineCode",{parentName:"p"},"_that"),"\u3002\u5b83\u53ea\u662f\u70ba\u4e86\u66ab\u6642\u4fdd\u5b58\u5728outter\u51fd\u5f0f\u88ab\u547c\u53eb\u6642\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u7528\u7684\uff0c\u8b93",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u53ef\u4ee5\u50b3\u905e\u5230inner\u51fd\u5f0f\u4e4b\u4e2d\u3002"),(0,o.kt)("p",null,"\u7b2c\u4e8c\u7a2e\u5beb\u6cd5\u5176\u5be6\u4e5f\u662f\u540c\u6a23\u7684\u6982\u5ff5\uff0c\u53ea\u4e0d\u904e\u7528\u4e86call\u4f86\u547c\u53eb\uff0coutter\u51fd\u5f0f\u5728\u547c\u53eb\u6642\uff0c\u5b83\u88e1\u9762\u662f\u6709",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u7576\u4f5ccall\u7684\u50b3\u5165\u53c3\u6578\u503c\uff0c\u9019\u7bc4\u4f8b\u8207\u4e0a\u9762\u76f8\u540c\uff0c\u4e5f\u662f\u6709\u540c\u6a23\u4f5c\u7528:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction outter() {\n\n  function inner(){\n    console.log(this)\n  }\n\n  inner.call(this) //\u7528outter\u4e2d\u7684this\u503c\u4f86\u547c\u53eb\u5167\u90e8\u51fd\u5f0f\u7684inner\n}\n\noutter.call(obj) //Object {a: 1}\n")),(0,o.kt)("p",null,"\u7b2c\u4e09\u7a2e\u5beb\u6cd5\u662f\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"bind"),"\u65b9\u6cd5\uff0c\u4e0d\u904e\u56e0\u70ba",(0,o.kt)("inlineCode",{parentName:"p"},"bind"),"\u65b9\u6cd5\u6703\u56de\u50b3\u65b0\u7684\u51fd\u5f0f\uff0c\u51fd\u5f0f\u5ba3\u544a\u8981\u8b8a\u6210\u7528\u51fd\u5f0f\u8868\u9054\u5f0f(FE)\u7684\u65b9\u6cd5\u624d\u884c:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction outter() {\n\n   const inner = function(){\n    console.log(this)\n  }.bind(this)\n\n  inner()\n}\n\noutter.call(obj) //Object {a: 1}\n")),(0,o.kt)("p",null,"\u90a3\u9ebc\u5728callback(\u56de\u8abf)\u7684\u60c5\u6cc1\u4e0b\u53c8\u662f\u5982\u4f55\uff1fthis\u80fd\u9806\u5229\u50b3\u5230callback(\u56de\u8abf)\u51fd\u5f0f\u4e4b\u4e2d\u55ce\uff1f\u50cf\u4e0b\u9762\u7684\u7bc4\u4f8b\u9019\u6a23\uff0c\u7d50\u679c\u7576\u7136\u662f\u4e0d\u884c:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction funcCb(x, cb){\n  cb(x)\n}\n\nconst callback = function(x){ console.log(this) }\n\nfuncCb.call(obj, 1, callback) //undefined\n")),(0,o.kt)("p",null,"\u5be6\u969b\u4e0a\u50b3\u5165\u53c3\u6578\u503c\u9019\u500b\u6771\u897f\uff0c\u5982\u679c\u662f\u51fd\u5f0f\u7684\u8a71\uff0c\u90fd\u662f\u4f4d\u65bc\u5168\u57df\u7269\u4ef6\u4e4b\u4e0b\u7684\uff0c\u9019callback(\u56de\u8abf)\u5728\u547c\u53eb\u6642\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u5c31\u662f\u5168\u57df\u7269\u4ef6\u3002\u7528call\u6216bind\u65b9\u6cd5\u5c31\u53ef\u4ee5\u89e3\u6c7a\u9019\u500b\u554f\u984c:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction funcCb(x, cb){\n  cb.call(this, x)\n}\n\nconst callback = function(){ console.log(this) }\n\nfuncCb.call(obj, 1, callback) //Object {a: 1}\n")),(0,o.kt)("p",null,"\u66f4\u9032\u968e\u7684\u4e00\u7a2e\u60c5\u6cc1\uff0c\u4f7f\u7528\u4f8b\u5982\u50cf",(0,o.kt)("inlineCode",{parentName:"p"},"setTimeout"),"\u65b9\u6cd5\uff0c\u88e1\u9762\u5e36\u6709callback(\u56de\u8abf)\u51fd\u5f0f\u7684\u50b3\u5165\u53c3\u6578\uff0c\u50cf\u4e0b\u9762\u9019\u6a23\u7684\u7a0b\u5f0f\u78bc:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction func(){\n  setTimeout(\n    function(){\n      console.log(this)\n    }, 2000)\n}\n\nfunc.call(obj) //window\u7269\u4ef6\n")),(0,o.kt)("p",null,"\u9019\u4e5f\u662f\u904b\u7528\u4e0a\u9762\u985e\u4f3c\u7684\u5e7e\u7a2e\u4f5c\u6cd5\uff0c\u5176\u4e00\uff0c\u7528\u4e00\u500b\u51fd\u5f0f\u5167\u7684\u8b8a\u6578(\u5e38\u6578)\u4f86\u50b3\u905e",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction func(){\n  const that = this\n\n  setTimeout(\n    function(){\n      console.log(that)\n    }, 2000)\n}\n\nfunc.call(obj) //Object {a: 1}\n")),(0,o.kt)("p",null,"\u5176\u4e8c\uff0c\u76f4\u63a5\u7528bind\u65b9\u6cd5(\u56e0\u70ba\u9019\u88e1\u4e0d\u9069\u5408\u4f7f\u7528call\u65b9\u6cd5)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction func(){\n\n  setTimeout(\n    function(){\n      console.log(this)\n    }.bind(this), 2000)\n}\n\nfunc.call(obj)\n")),(0,o.kt)("p",null,"\u6216\u662f\u5beb\u5f97\u66f4\u6e05\u695a\u9ede\uff0c\u628a\u5176\u4e2d\u7684callback\u51fd\u5f0f\u7368\u7acb\u51fa\u4f86:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction func(){\n\n  function cb(){\n    console.log(this)\n  }\n\n  setTimeout(cb.bind(this), 2000)\n}\n\nfunc.call(obj)\n")),(0,o.kt)("p",null,"\u4e0b\u9762\u6108\u5beb\u6108\u9577\uff0c\u5176\u5be6\u6c92\u6709\u90a3\u9ebc\u5fc5\u8981\uff0c\u53ea\u662f\u8aaa\u660e\u4e5f\u53ef\u4ee5\u7528\u53e6\u4e00\u500b\u5df2\u7d93bind\u597d\u7684\u51fd\u5f0f\uff0c\u50b3\u5165\u7576\u4f5c\u65b0\u7684callback(\u56de\u8abf)\u51fd\u5f0f:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"function func(){\n\n  function cb(){\n    console.log(this)\n  }\n\n  const cb2 = cb.bind(this)\n\n  setTimeout(cb2, 2000)\n}\n\nfunc.call(obj)\n")),(0,o.kt)("h2",{id:"\u7bad\u982d\u51fd\u5f0f\u7d81\u5b9athis"},"\u7bad\u982d\u51fd\u5f0f\u7d81\u5b9athis"),(0,o.kt)("p",null,"\u7bad\u982d\u51fd\u5f0f(Arrow Function)\u9664\u4e86\u4f5c\u70ba\u4ee5\u51fd\u5f0f\u8868\u9054\u5f0f(FE)\u7684\u65b9\u5f0f\u4f86\u5ba3\u544a\u51fd\u5f0f\u4e4b\u5916\uff0c\u5b83\u9084\u6709\u4e00\u500b\u7279\u5225\u7684\u4f5c\u7528\uff0c\u5373\u662f\u53ef\u4ee5\u4f5c\u7d81\u5b9a(bind)this\u503c\u7684\u529f\u80fd\u3002\u9019\u7279\u6027\u5728\u4e00\u4e9b\u61c9\u7528\u60c5\u6cc1\u4e0b\u975e\u5e38\u6709\u7528\uff0c\u53ef\u4ee5\u8b93\u7a0b\u5f0f\u78bc\u6709\u66f4\u9ad8\u7684\u53ef\u95b1\u8b80\u6027\uff0c\u4f8b\u5982\u4ee5\u4e0a\u4e00\u7bc0\u7684\u4f8b\u5b50\u4e2d\uff0c\u6709\u4f7f\u7528\u5230bind\u65b9\u6cd5\u7684\uff0c\u90fd\u53ef\u4ee5\u7528\u7bad\u982d\u51fd\u5f0f\u4f86\u53d6\u4ee3\uff0c\u4ee5\u4e0b\u70ba\u6539\u5beb\u904e\u7684\u7bc4\u4f8b\uff0c\u4f60\u53ef\u4ee5\u6bd4\u5c0d\u4e00\u4e0b:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const obj = {a:1}\n\nfunction func(){\n  setTimeout( () => { console.log(this) }, 2000)\n}\n\nfunc.call(obj)\n")),(0,o.kt)("h2",{id:"\u5728\u7269\u4ef6\u8207\u9663\u5217\u4e2d\u51fd\u5f0f\u7684this"},"\u5728\u7269\u4ef6\u8207\u9663\u5217\u4e2d\u51fd\u5f0f\u7684",(0,o.kt)("inlineCode",{parentName:"h2"},"this")),(0,o.kt)("p",null,"\u6309\u7167\u4e0a\u9762\u7ae0\u7bc0\u7684\u8aaa\u660e\uff0c\u5728\u4e00\u822c\u60c5\u6cc1\uff0c\u4e5f\u5c31\u662f\u5728\u5168\u4f5c\u7528\u57df\u4e2d\u5b9a\u7fa9\u4e2d\u7684\u51fd\u5f0f\uff0c\u5b83\u7684this\u503c\u9810\u8a2d\u662f\u5728\u700f\u89bd\u5668\u4e2d\u662fwindow\u7269\u4ef6\uff0c\u5728Node.js\u4e2d\u662fglobal\u7269\u4ef6\uff0c\u4e5f\u5c31\u662f\u5168\u57df(\u5168\u5c40)\uff0c\u4f46\u8981\u6ce8\u610f\u9019\u53ea\u80fd\u9069\u7528\u5728\u975e\u56b4\u683c\u6a21\u5f0f(non-strict mode)\u7684\u60c5\u6cc1\u3002"),(0,o.kt)("p",null,"\u90a3\u5982\u679c\u662f\u4e00\u822c\u4f7f\u7528\u5efa\u69cb\u51fd\u5f0f(\u6216\u985e\u5225\u5b9a\u7fa9)\u6240\u5efa\u7acb\u51fa\u4f86\u7684\u7269\u4ef6\u5be6\u9ad4\uff0c\u56e0\u70ba\u9019\u662f\u4f7f\u7528\u4e86",(0,o.kt)("inlineCode",{parentName:"p"},"new"),"\u95dc\u9375\u5b57\u9032\u884c\u5be6\u9ad4\u5316\uff0c\u7b26\u5408\u4e86\u5efa\u69cb\u51fd\u5f0f\u547c\u53eb\u6a23\u5f0f(Constructor Invocation Pattern)\uff0c\u5176\u4e2d\u7684\u6210\u54e1\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u5c07\u81ea\u52d5\u6307\u5411\u65b0\u5efa\u7acb\u7684\u7269\u4ef6\u5be6\u9ad4\u3002\u9019\u5728\u985e\u5225\u6216\u7269\u4ef6\u7684\u7ae0\u7bc0\u4e2d\u90fd\u53ef\u4ee5\u770b\u5230\u5176\u4e2d\u7684\u5167\u5bb9\uff0c\u5c31\u4e0d\u518d\u591a\u4f5c\u63cf\u8ff0\u3002"),(0,o.kt)("p",null,"\u4f46\u9663\u5217\u4e2d\u7684\u51fd\u5f0f\uff0c\u5be6\u969b\u4e0a\u5b83\u4e5f\u662f\u50cf\u9019\u6a23\u7684\u7269\u4ef6\u5be6\u9ad4\uff0c\u56e0\u70ba\u8a2d\u8a08\u4e0a\u9663\u5217\u5be6\u969b\u662f\u500b\u7269\u4ef6\u985e\u578b\u3002\u6240\u4ee5\u50cf\u4e0b\u9762\u9019\u6a23\u7684\u4f8b\u5b50:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const a = []\nconst func = function(){ console.log(this) }\n\na.push(func)\na[0]() //\u6307\u5411a\n")),(0,o.kt)("p",null,"\u4f60\u6703\u767c\u73fe\u5982\u679c\u5c0d\u5728\u9663\u5217\u4e2d\u7684\u6210\u54e1\u51fd\u5f0f\u547c\u53eb\uff0c\u5b83\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u5c07\u6307\u56de\u9663\u5217\u672c\u8eab\uff0c\u4e5f\u5c31\u662f",(0,o.kt)("inlineCode",{parentName:"p"},"a"),"\u3002\u9019\u662f\u56e0\u70ba\u9663\u5217\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"const a = []"),"\u7684\u5ba3\u544a\uff0c\u76f8\u7576\u65bc",(0,o.kt)("inlineCode",{parentName:"p"},"const a = new Array()"),"\uff0c\u9663\u5217\u662f\u500b\u7269\u4ef6\u985e\u578b\uff0c\u6b63\u78ba\u4f86\u8aaa\u662f\u9663\u5217\u662f\u4ee5\u539f\u59cb\u7684\u7269\u4ef6\u985e\u578b\u70ba\u57fa\u790e\uff0c\u518d\u767c\u5c55\u5ef6\u4f38\u51fa\u4f86\u7684\u7279\u6b8a\u7269\u4ef6\u985e\u578b\u3002"),(0,o.kt)("p",null,"\u9019\u5c0d\u61c9\u4e86\u4e0d\u8ad6\u662f\u4f7f\u7528\u7269\u4ef6\u5b57\u9762\u65b9\u5f0f\u4f86\u5b9a\u7fa9\u7684\u7269\u4ef6\u65b9\u5f0f\uff0c\u6216\u662f\u4f7f\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"new Object()"),"\u4f86\u5be6\u9ad4\u5316\u7269\u4ef6\u7684\u5b9a\u7fa9\u65b9\u5f0f\uff0c\u5169\u7a2e\u7372\u5f97\u7684\u7d50\u679c\u90fd\u662f\u76f8\u540c\u7684\u3002\u5982\u4e0b\u9762\u7684\u4f8b\u5b50:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const e = { func: function(){ console.log(this)} }\ne.func() //\u6307\u5411e\n\nconst f = new Object()\nf.func = function(){ console.log(this) }\nf.func() //\u6307\u5411f\n")),(0,o.kt)("p",null,"\u6709\u4e00\u500b\u7279\u5225\u7684\u5be6\u4f8b\u662f\u51fd\u5f0f\u4e2d\u7684\u96b1\u85cf\u7269\u4ef6 - ",(0,o.kt)("inlineCode",{parentName:"p"},"arguments"),"\u7269\u4ef6\uff0c\u5b83\u5728\u5be6\u969b\u4e0a\u4e5f\u96b1\u85cf\u4e86\u5be6\u9ad4\u5316\u7684\u904e\u7a0b\uff0c\u7531JavaScript\u81ea\u52d5\u5be6\u9ad4\u5316\u9019\u500b\u7269\u4ef6\u3002\u56e0\u6b64\uff0c\u5c0d\u61c9\u4e0a\u9762\u7684\u9663\u5217\u8207\u7269\u4ef6\u7684\u8a2d\u8a08\uff0c\u9810\u8a2d\u88e1\u9762\u7684\u6210\u54e1\u5982\u679c\u662f\u500b\u51fd\u5f0f\u662f\u4e5f\u662f\u81ea\u52d5\u6307\u5411\u81ea\u5df1\u672c\u8eab\u3002\u5982\u4e0b\u9762\u7684\u4f8b\u5b50:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"function func(fn){\n\n  arguments[0]() //\u6307\u5411arguments\u672c\u8eab\n\n  fn() //\u6307\u5411window(\u5168\u57df\u7269\u4ef6)\n}\n\nfunc( function(){console.log(this)} )\n")),(0,o.kt)("p",null,"\u4e0d\u904e\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"arguments"),"\u7269\u4ef6\u5bb9\u6613\u7522\u751f\u8aa4\u89e3\uff0c\u9019\u4e5f\u662f\u5176\u4e2d\u4e00\u500b\u5e38\u898b\u7684\u9677\u9631\uff0c\u5728\u8a31\u591a\u5be6\u969b\u4f7f\u7528\u7684\u60c5\u6cc1\u90fd\u5bb9\u6613\u9020\u6210\u8aa4\u7528\uff0c\u4f8b\u5982\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u76f4\u63a5\u547c\u53eb\u50b3\u5165\u7684\u51fd\u5f0f\u8207\u4f7f\u7528arguments\u7269\u4ef6\u4f86\u547c\u53eb\uff0c\u7d50\u679c\u662f\u4e0d\u540c\u7684\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u503c\u662f\u4e0d\u540c\u7684\u3002\u6211\u5efa\u8b70\u4f60\u4e0d\u8981\u518d\u4f7f\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"arguments"),"\u7269\u4ef6\uff0c\u5b83\u662f\u4e00\u500b\u76f8\u7576\u6709\u554f\u984c\u7684\u8a2d\u8a08\u3002"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u7279\u5225\u6ce8\u610f: \u5728JavaScript\u4e2d\uff0c\u4e0d\u8981\u4f7f\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"new Array()"),"\u6216",(0,o.kt)("inlineCode",{parentName:"p"},"new Object()"),"\u4f86\u5efa\u7acb\u9663\u5217\u8207\u7269\u4ef6\u7684\u5be6\u9ad4(\u5be6\u4f8b)\uff0c\u539f\u56e0\u662f\u4e0d\u9700\u8981\uff0c\u800c\u4e14\u5b83\u5011\u5bb9\u6613\u9020\u6210\u8aa4\u7528\u3002\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u61c9\u8a72\u4f7f\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"[]"),"\u6216",(0,o.kt)("inlineCode",{parentName:"p"},"{}"),"\u7684\u5b9a\u7fa9\u65b9\u5f0f\u3002")),(0,o.kt)("h2",{id:"\u5c0f\u5c0f\u554f\u984c\u7684\u89e3\u7b54"},"\u5c0f\u5c0f\u554f\u984c\u7684\u89e3\u7b54"),(0,o.kt)("p",null,"\u6211\u5011\u8981\u56de\u7b54\u6700\u4e0a\u9762\u4e00\u958b\u59cb\u767c\u73fe\u7684\u4e00\u500b\u5c0f\u554f\u984c\uff0c\u5c31\u662f\u70ba\u4ec0\u9ebc\u51fd\u5f0f\u4e2d\u547c\u53eb\u81ea\u5df1\u672c\u8eab\u662f\u53ef\u4ee5\u7684\uff0c\u6709\u500b\u4e3b\u8981\u539f\u56e0:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u6bcf\u500b\u51fd\u5f0f\u547c\u53eb\u90fd\u662f\u4e00\u500b\u7368\u7acb\u7684\u57f7\u884c\u4e0a\u4e0b\u6587")),(0,o.kt)("p",null,"\u4e5f\u5c31\u662f\u50cf\u4e0b\u9762\u9019\u6a23\u7684\u7bc4\u4f8b\u4e2d:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"function outter(){\n  function inner(){\n    console.log('inner')\n  }\n  inner()\n}\n\noutter()\n")),(0,o.kt)("p",null,"\u5b83\u5728call stack(\u547c\u53eb\u5806\u758a)\u7684\u7d50\u69cb\u662f\u5206\u6210\u5169\u500b\u7368\u7acb\u7684\u57f7\u884c\u4e0a\u4e0b\u6587\uff0c\u985e\u4f3c\u50cf\u4e0b\u9762\u9019\u6a23:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"ECStack = [\n  <inner> functionContext\n  <outter> functionContext\n  globalContext\n];\n")),(0,o.kt)("p",null,"\u4f9d\u7167\u5806\u758a\u7684\u57f7\u884c\u9806\u5e8f\uff0c\u6703\u5f9e\u4e0a\u9762\u5148\u958b\u59cb\u57f7\u884c\uff0c\u7136\u5f8c\u518d\u4f86\u5f80\u4e0b\u57f7\u884c\uff0c\u4e5f\u5c31\u662f\u5f8c\u9032\u5148\u51fa(LIFO, Last in First out)\u3002\u6240\u6709\u5982\u679c\u662f\u81ea\u5df1\u547c\u53eb\u81ea\u5df1\u7684\u8ff4\u5708\uff0ccall stack(\u547c\u53eb\u5806\u758a)\u6703\u8b8a\u6210\u50cf\u4e0b\u9762\u9019\u6a23\uff0c\u7121\u7aae\u7684\u57f7\u884c\u4e0a\u4e0b\u6587\u905e\u8ff4\u4e0b\u53bb\uff0c\u6700\u5f8c\u9020\u6210\u700f\u89bd\u5668\u7576\u6389:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"ECStack = [\n  <func> functionContext - \u905e\u8ff4\n  <func> functionContext\n  globalContext\n];\n")),(0,o.kt)("h2",{id:"\u7d50\u8a9e"},"\u7d50\u8a9e"),(0,o.kt)("p",null,"\u672c\u7ae0\u8aaa\u660e\u4e86\u5f88\u591aJavaScript\u5e95\u5c64\u5be6\u4f5c\u7684\u6280\u8853\uff0c\u4e0d\u904e\u53ea\u662f\u7c21\u55ae\u7684\u4ecb\u7d39\u800c\u5df2\u3002",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u7684\u6982\u5ff5\u56e0\u70ba\u6d89\u53ca\u5f88\u591a\u5e95\u5c64\u7684\u8a2d\u8a08\uff0c\u6240\u4ee5\u9020\u6210\u5f88\u591a\u521d\u5b78\u8005\u975e\u5e38\u5bb9\u6613\u641e\u6df7\u8207\u8aa4\u89e3\uff0c\u76f8\u4fe1\u5728\u8b80\u904e\u9019\u7ae0\u7684\u5167\u5bb9\u5f8c\uff0c\u4f60\u53ef\u4ee5\u5c0dJavaScript\u8a9e\u8a00\u4e2d\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u6240\u626e\u6f14\u7684\u89d2\u8272\uff0c\u6709\u66f4\u6e05\u695a\u6216\u66f4\u6df1\u5165\u7684\u7406\u89e3\u3002\u5728\u5f80\u5f8c\u7684\u958b\u767c\u65e5\u5b50\u4e2d\uff0c\u53ef\u4ee5\u66f4\u6b63\u78ba\u800c\u4e14\u9748\u6d3b\u7684\u64cd\u63a7",(0,o.kt)("inlineCode",{parentName:"p"},"this"),"\u7684\u5404\u7a2e\u7528\u6cd5\u3002\u5728\u53c3\u8003\u8cc7\u6599\u4e2d\u6709\u66f4\u591a\u6df1\u5165\u7684\u5167\u5bb9\u7b49\u5f85\u4f60\u9032\u4e00\u6b65\u53bb\u7814\u7a76\u3002"),(0,o.kt)("h2",{id:"\u53c3\u8003\u6587\u7ae0"},"\u53c3\u8003\u6587\u7ae0"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://eyesofkids.gitbooks.io/javascript-start-from-es6/content/part4/this.html"},"this")))}k.isMDXComponent=!0}}]);